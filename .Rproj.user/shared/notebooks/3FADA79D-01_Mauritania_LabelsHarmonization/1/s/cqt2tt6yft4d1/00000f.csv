"0","# Lire les métadonnées d'harmonisation"
"0","Mauritania_Harmonization_variables_labels <- read_excel(paste0(dir_input_data, ""/MRT_Harmonization.xlsx""), "
"0","                                                        sheet = ""variables_labels"")"
"0",""
"0","# Identifier les variables communes"
"0","variable_to_labels <- intersect(Mauritania_Harmonization_variables_labels$Variable_Name, names(WFP_Mauritania))"
"0",""
"0","# Créer un tribble de métadonnées"
"0","WFP_Mauritania.sub_metadata <- tibble("
"0","    variable = Mauritania_Harmonization_variables_labels$Variable_Name,"
"0","    variable_label = Mauritania_Harmonization_variables_labels$Variable_Label"
"0",")"
"0",""
"0","# Convertir en vecteur nommé"
"0","WFP_Mauritania.sub_labels <- deframe(WFP_Mauritania.sub_metadata)"
"0",""
"0","# Sélectionner le sous-ensemble de données"
"0","df <- WFP_Mauritania |> dplyr::select(variable_to_labels)"
"0",""
"0","# Filtrer les étiquettes pour ne garder que celles dont les variables existent dans df"
"0","valid_labels <- WFP_Mauritania.sub_labels[names(WFP_Mauritania.sub_labels) %in% names(df)]"
"0",""
"0","# Appliquer les étiquettes filtrées aux variables de df"
"0","WFP_Mauritania.sub_labelled <- df |> set_variable_labels(!!!valid_labels)"
"0",""
